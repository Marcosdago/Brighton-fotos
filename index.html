<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brighton 24 | Galer√≠a Premium</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;700;800&display=swap');
        body { background: #020617; color: white; font-family: 'Plus Jakarta Sans', sans-serif; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .foto-card { aspect-ratio: 1/1; border-radius: 24px; overflow: hidden; cursor: pointer; position: relative; }
        .foto-card img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s transform; }
        .foto-card:hover img { transform: scale(1.1); }
        .skeleton { background: linear-gradient(90deg, #0f172a 25%, #1e293b 50%, #0f172a 75%); background-size: 200% 100%; animation: load 1.5s infinite; }
        @keyframes load { from { background-position: 150% 0; } to { background-position: -150% 0; } }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div id="loginSection" class="fixed inset-0 z-[100] flex items-center justify-center bg-slate-950 p-6">
    <div class="glass p-12 rounded-[50px] text-center max-w-sm w-full shadow-2xl">
        <h2 class="text-3xl font-black italic tracking-tighter text-blue-500 mb-2 uppercase">Brighton '24</h2>
        <p class="text-slate-500 text-sm mb-10">Acceso exclusivo para invitados</p>
        
        <button onclick="login()" class="flex items-center justify-center gap-4 w-full bg-white text-black py-4 rounded-2xl font-bold hover:bg-slate-200 transition-all active:scale-95 shadow-xl">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5">
            Entrar con Google
        </button>
    </div>
</div>

<main id="appContent" class="hidden opacity-0 transition-opacity duration-1000">
    <header class="container mx-auto px-6 py-16 text-center">
        <div class="flex justify-center mb-6">
            <img id="userImg" class="w-12 h-12 rounded-full border-2 border-blue-500 p-1">
        </div>
        <h1 class="text-6xl md:text-8xl font-black italic tracking-tighter bg-gradient-to-b from-white to-slate-600 bg-clip-text text-transparent">GALER√çA</h1>
        
        <div class="max-w-xl mx-auto mt-10">
            <input type="text" id="searchInput" oninput="handleSearch()" class="glass w-full p-6 rounded-3xl text-center text-xl outline-none focus:ring-2 focus:ring-blue-500" placeholder="üîç Buscar momento o d√≠a...">
        </div>
    </header>

    <section id="daysGrid" class="container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 pb-20"></section>

    <section id="detailGrid" class="hidden container mx-auto px-6 pb-20">
        <button onclick="goHome()" class="mb-10 text-blue-500 font-bold hover:gap-4 flex items-center gap-2 transition-all">‚Üê VOLVER</button>
        <h2 id="dayTitle" class="text-5xl font-black italic mb-12 uppercase tracking-tighter text-blue-500"></h2>
        <div id="photosContainer" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
    </section>
</main>

<div id="lightbox" class="fixed inset-0 bg-black/95 z-[200] hidden flex-col items-center justify-center p-4" onclick="closeLightbox()">
    <img id="fullImg" class="max-w-full max-h-[85vh] rounded-xl shadow-2xl border border-white/10">
    <p id="fullTag" class="mt-6 text-slate-400 italic font-medium"></p>
</div>

<script>
// 1. CONFIGURACI√ìN FIREBASE (REEMPLAZA ESTO)
const firebaseConfig = {
  apiKey: "TU_API_KEY_AQUI",
  authDomain: "TU_PROYECTO.firebaseapp.com",
  projectId: "TU_PROYECTO_ID",
  appId: "TU_APP_ID"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// 2. TUS DATOS (TODAS LAS FOTOS)
const fotos = [
    // Copia aqu√≠ el array completo que tienes con el d√≠a 1, 2 y 3
    {u:"URL_AQU√ç", n:"etiqueta", d:"1"}, 
    // ... todas tus fotos
];

// 3. L√ìGICA DE SEGURIDAD Y UX
function login() {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider).then((result) => {
        setupApp(result.user);
    }).catch(err => alert("Error al conectar: " + err.message));
}

function setupApp(user) {
    document.getElementById('loginSection').classList.add('hidden');
    const main = document.getElementById('appContent');
    main.classList.remove('hidden');
    setTimeout(() => main.style.opacity = "1", 50);
    
    document.getElementById('userImg').src = user.photoURL;
    renderHome();
}

function renderHome() {
    const container = document.getElementById('daysGrid');
    const dias = ["1", "2", "3"]; // Tus d√≠as
    
    container.innerHTML = dias.map(d => {
        const portada = fotos.find(f => f.d == d)?.u;
        return `
            <div onclick="showDay('${d}')" class="foto-card glass group">
                <img src="${portada}" class="opacity-40 group-hover:opacity-80">
                <div class="absolute inset-0 flex items-end p-8">
                    <h3 class="text-4xl font-black italic">D√çA 0${d}</h3>
                </div>
            </div>
        `;
    }).join('');
}

function showDay(d) {
    document.getElementById('daysGrid').classList.add('hidden');
    document.getElementById('detailGrid').classList.remove('hidden');
    document.getElementById('dayTitle').innerText = `D√≠a ${d.padStart(2,'0')}`;
    
    const container = document.getElementById('photosContainer');
    const filtradas = fotos.filter(f => f.d == d);
    
    container.innerHTML = filtradas.map(f => `
        <div class="foto-card skeleton" onclick="openLightbox('${f.u}', '${f.n}')">
            <img src="${f.u}" loading="lazy" onload="this.parentElement.classList.remove('skeleton')">
        </div>
    `).join('');
}

function goHome() {
    document.getElementById('daysGrid').classList.remove('hidden');
    document.getElementById('detailGrid').classList.add('hidden');
}

function openLightbox(url, tag) {
    const lb = document.getElementById('lightbox');
    document.getElementById('fullImg').src = url.replace('/s320/', '/s1600/'); // Mejora calidad
    document.getElementById('fullTag').innerText = "#" + tag;
    lb.classList.replace('hidden', 'flex');
}

function closeLightbox() {
    document.getElementById('lightbox').classList.replace('flex', 'hidden');
}

// Persistencia de sesi√≥n (Si ya entr√≥, no pide login)
auth.onAuthStateChanged(user => { if(user) setupApp(user); });
</script>
</body>
</html>
